Version 4
SHEET 1 1416 680
WIRE -192 -32 -208 -32
WIRE 16 -32 -192 -32
WIRE 160 -32 16 -32
WIRE 592 -32 384 -32
WIRE 608 -32 592 -32
WIRE 16 -16 16 -32
WIRE 384 -16 384 -32
WIRE 160 64 160 -32
WIRE 16 112 16 64
WIRE 384 112 384 64
WIRE 16 160 16 112
WIRE 384 160 384 112
WIRE -208 192 -208 -32
WIRE 608 192 608 -32
WIRE 112 208 80 208
WIRE 160 208 160 128
WIRE 160 208 112 208
WIRE 208 208 160 208
WIRE 320 208 288 208
WIRE 16 272 16 256
WIRE 160 272 160 208
WIRE 160 272 16 272
WIRE 384 272 384 256
WIRE 432 272 384 272
WIRE -208 288 -208 272
WIRE 16 288 16 272
WIRE 384 288 384 272
WIRE 608 288 608 272
WIRE 16 400 16 368
WIRE 192 400 16 400
WIRE 384 400 384 368
WIRE 384 400 192 400
WIRE 192 416 192 400
FLAG 192 416 0
FLAG 112 208 base
FLAG -208 288 0
FLAG -192 -32 v1
FLAG 432 272 out
FLAG 608 288 0
FLAG 592 -32 v2
FLAG 16 112 e1
FLAG 384 112 e2
SYMBOL pnp 80 256 R180
SYMATTR InstName Q1
SYMATTR Value BC857B
SYMBOL pnp 320 256 M180
SYMATTR InstName Q2
SYMATTR Value BC857B
SYMBOL res 0 272 R0
SYMATTR InstName R1
SYMATTR Value 75k
SYMBOL res 368 272 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL voltage -208 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 10
SYMBOL res 0 -32 R0
SYMATTR InstName R3
SYMATTR Value 1m
SYMBOL res 368 -32 R0
SYMATTR InstName R4
SYMATTR Value 1m
SYMBOL voltage 608 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL(0 10 1m 10 1.1m 10.01 2m 10.01 2.1m 9.99 3m 9.99 3.1m 10)
SYMBOL res 304 192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL diode 176 128 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
TEXT -242 440 Left 2 !.tran 4m
TEXT -176 -176 Left 2 ;From https://hardware.buspirate.com/#programmable-power-supply-unit\nR1 R2 imbalance makes the circuit more sensitive to a higher V2.\nR5 decouples both transistors.\nD1 protects Q1 from reverse BE voltage.
